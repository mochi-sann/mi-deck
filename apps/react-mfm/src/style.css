:root {
  --mfm-searchBg: #fff;
  --mfm-searchFg: #ccc;
  --mfm-codeBg: #222;
  --mfm-codeFg: #fff;
  --mfm-mention: #00f;
  --mfm-hashtag: #ff8000;
  --mfm-link: #00f;
  --mfm-fg: red;
  --mfm-bg: red;
  --mfm-border: gray;
}

.mfm-quote {
  display: block;
  margin: 0.5rem 0;
  padding-left: 0.3em;
  border-left: solid 3px gray;
  opacity: 0.8;
}

.mfm-search {
  display: flex;
  margin: 0.5rem 0;
}

.mfm-searchInput {
  flex: 1;
  padding: 0.5rem;
  background: var(--mfm-searchBg);
  border: 1px solid var(--mfm-searchFg);
  border-radius: 0.2rem 0 0 0.2rem;

  /* うーん */
  outline-offset: -1px;
  z-index: 1;
}

.mfm-searchButton {
  padding: 0 0.8rem;
  background: var(--mfm-searchFg);
  border: 1px solid var(--mfm-searchFg);
  border-radius: 0 0.2rem 0.2rem 0;
  display: flex;
  align-content: center;
  align-items: center;
  gap: 0.2rem;

  flex-shrink: 0;

  &:hover {
    filter: brightness(1.1);
  }
}

.mfm-blockCode {
  margin: 0.5rem 0;
}

.mfm-blockCode pre {
  margin: 0;
  padding: 0.8rem;
  background: var(--mfm-codeBg);
  color: var(--mfm-codeFg);
  border-radius: 0.4rem;
}

.mfm-center {
  text-align: center;
}

.mfm-emoji {
  display: inline-block;
  height: 1.5rem;
  margin: 0 0.05em 0 0.1em;
}

.mfm-customEmoji {
  display: inline-block;
  height: 1.5em;
}

.mfm-small {
  opacity: 0.8;
}

.mfm-italic {
  font-style: oblique;
}

.mfm-inlineCode {
  padding: 0.2em;
  background: var(--mfm-codeBg);
  color: var(--mfm-codeFg);
  border-radius: 0.3em;
}

.mfm-mention {
  color: var(--mfm-mention);
}

.mfm-hashtag {
  color: var(--mfm-hashtag);
}

.mfm-link {
  color: var(--mfm-link);
  overflow-wrap: break-word;
}

.mfm-urlHost {
  font-weight: bold;
}

.mfm-x2 {
  --mfm-scale: 200%;
}

.mfm-x3 {
  --mfm-scale: 300%;
}

.mfm-x4 {
  --mfm-scale: 400%;
}

.mfm-x2,
.mfm-x3,
.mfm-x4 {
  font-size: var(--mfm-scale);

  .mfm-x2,
  .mfm-x3,
  .mfm-x4 {
    font-size: calc(var(--mfm-scale) / 2 + 50%);

    .mfm-x2,
    .mfm-x3,
    .mfm-x4 {
      font-size: 100%;
    }
  }
}

.mfm-blur {
  filter: blur(6px);
  transition: filter 0.3s;

  &:hover {
    filter: blur(0);
  }
}

.mfm-rainbowStatic {
  background-image: linear-gradient(to right,
      rgb(255, 0, 0) 0%,
      rgb(255, 165, 0) 17%,
      rgb(255, 255, 0) 33%,
      rgb(0, 255, 0) 50%,
      rgb(0, 255, 255) 67%,
      rgb(0, 0, 255) 83%,
      rgb(255, 0, 255) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

@keyframes mfm-spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@keyframes mfm-spinX {
  0% {
    transform: perspective(128px) rotateX(0deg);
  }

  100% {
    transform: perspective(128px) rotateX(360deg);
  }
}

@keyframes mfm-spinY {
  0% {
    transform: perspective(128px) rotateY(0deg);
  }

  100% {
    transform: perspective(128px) rotateY(360deg);
  }
}

@keyframes mfm-jump {
  0% {
    transform: translateY(0);
  }

  25% {
    transform: translateY(-16px);
  }

  50% {
    transform: translateY(0);
  }

  75% {
    transform: translateY(-8px);
  }

  100% {
    transform: translateY(0);
  }
}

@keyframes mfm-bounce {
  0% {
    transform: translateY(0) scale(1, 1);
  }

  25% {
    transform: translateY(-16px) scale(1, 1);
  }

  50% {
    transform: translateY(0) scale(1, 1);
  }

  75% {
    transform: translateY(0) scale(1.5, 0.75);
  }

  100% {
    transform: translateY(0) scale(1, 1);
  }
}

/* // const val = () => `translate(${Math.floor(Math.random() * 20) - 10}px, ${Math.floor(Math.random() * 20) - 10}px)`; */
/* // let css = ''; */
/* // for (let i = 0; i <= 100; i += 5) { css += `${i}% { transform: ${val()} }\n`; } */
@keyframes mfm-twitch {
  0% {
    transform: translate(7px, -2px);
  }

  5% {
    transform: translate(-3px, 1px);
  }

  10% {
    transform: translate(-7px, -1px);
  }

  15% {
    transform: translate(0px, -1px);
  }

  20% {
    transform: translate(-8px, 6px);
  }

  25% {
    transform: translate(-4px, -3px);
  }

  30% {
    transform: translate(-4px, -6px);
  }

  35% {
    transform: translate(-8px, -8px);
  }

  40% {
    transform: translate(4px, 6px);
  }

  45% {
    transform: translate(-3px, 1px);
  }

  50% {
    transform: translate(2px, -10px);
  }

  55% {
    transform: translate(-7px, 0px);
  }

  60% {
    transform: translate(-2px, 4px);
  }

  65% {
    transform: translate(3px, -8px);
  }

  70% {
    transform: translate(6px, 7px);
  }

  75% {
    transform: translate(-7px, -2px);
  }

  80% {
    transform: translate(-7px, -8px);
  }

  85% {
    transform: translate(9px, 3px);
  }

  90% {
    transform: translate(-3px, -2px);
  }

  95% {
    transform: translate(-10px, 2px);
  }

  100% {
    transform: translate(-2px, -6px);
  }
}

/* // const val = () => `translate(${Math.floor(Math.random() * 6) - 3}px, ${Math.floor(Math.random() * 6) - 3}px) rotate(${Math.floor(Math.random() * 24) - 12}deg)`; */
/* // let css = ''; */
/* // for (let i = 0; i <= 100; i += 5) { css += `${i}% { transform: ${val()} }\n`; } */
@keyframes mfm-shake {
  0% {
    transform: translate(-3px, -1px) rotate(-8deg);
  }

  5% {
    transform: translate(0px, -1px) rotate(-10deg);
  }

  10% {
    transform: translate(1px, -3px) rotate(0deg);
  }

  15% {
    transform: translate(1px, 1px) rotate(11deg);
  }

  20% {
    transform: translate(-2px, 1px) rotate(1deg);
  }

  25% {
    transform: translate(-1px, -2px) rotate(-2deg);
  }

  30% {
    transform: translate(-1px, 2px) rotate(-3deg);
  }

  35% {
    transform: translate(2px, 1px) rotate(6deg);
  }

  40% {
    transform: translate(-2px, -3px) rotate(-9deg);
  }

  45% {
    transform: translate(0px, -1px) rotate(-12deg);
  }

  50% {
    transform: translate(1px, 2px) rotate(10deg);
  }

  55% {
    transform: translate(0px, -3px) rotate(8deg);
  }

  60% {
    transform: translate(1px, -1px) rotate(8deg);
  }

  65% {
    transform: translate(0px, -1px) rotate(-7deg);
  }

  70% {
    transform: translate(-1px, -3px) rotate(6deg);
  }

  75% {
    transform: translate(0px, -2px) rotate(4deg);
  }

  80% {
    transform: translate(-2px, -1px) rotate(3deg);
  }

  85% {
    transform: translate(1px, -3px) rotate(-10deg);
  }

  90% {
    transform: translate(1px, 0px) rotate(3deg);
  }

  95% {
    transform: translate(-2px, 0px) rotate(-3deg);
  }

  100% {
    transform: translate(2px, 1px) rotate(2deg);
  }
}

@keyframes mfm-rubberBand {
  from {
    transform: scale3d(1, 1, 1);
  }

  30% {
    transform: scale3d(1.25, 0.75, 1);
  }

  40% {
    transform: scale3d(0.75, 1.25, 1);
  }

  50% {
    transform: scale3d(1.15, 0.85, 1);
  }

  65% {
    transform: scale3d(0.95, 1.05, 1);
  }

  75% {
    transform: scale3d(1.05, 0.95, 1);
  }

  to {
    transform: scale3d(1, 1, 1);
  }
}

@keyframes mfm-rainbow {
  0% {
    filter: hue-rotate(0deg) contrast(150%) saturate(150%);
  }

  100% {
    filter: hue-rotate(360deg) contrast(150%) saturate(150%);
  }
}

@keyframes mfm-tada {
  from {
    transform: scale3d(1, 1, 1);
  }

  10%,
  20% {
    transform: scale3d(0.91, 0.91, 0.91) rotate3d(0, 0, 1, -2deg);
  }

  30%,
  70% {
    transform: scale3d(1.09, 1.09, 1.09) rotate3d(0, 0, 1, 2deg);
  }

  50%,
  90% {
    transform: scale3d(1.09, 1.09, 1.09) rotate3d(0, 0, 1, -2deg);
  }

  to {
    transform: scale3d(1, 1, 1);
  }
}

@keyframes mfm-sparkle {
  0% {
    opacity: 0;
    scale: 0;
    rotate: 0deg;
  }

  50% {
    opacity: 1;
    scale: var(--size);
  }

  100% {
    opacity: 0;
    scale: 0;
    rotate: 360deg;
  }
}

@keyframes mfm-jelly {
  from {
    transform: scale3d(1, 1, 1);
  }

  30% {
    transform: scale3d(1.25, 0.75, 1);
  }

  40% {
    transform: scale3d(0.75, 1.25, 1);
  }

  50% {
    transform: scale3d(1.15, 0.85, 1);
  }

  65% {
    transform: scale3d(0.95, 1.05, 1);
  }

  75% {
    transform: scale3d(1.05, 0.95, 1);
  }

  to {
    transform: scale3d(1, 1, 1);
  }
}
